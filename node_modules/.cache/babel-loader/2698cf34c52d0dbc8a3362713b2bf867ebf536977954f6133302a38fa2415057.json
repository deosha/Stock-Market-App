{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macos/Documents/stock-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macos/Documents/stock-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macos/Documents/stock-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useLocation}from'react-router-dom';import LineChart from'../components/Chart';import axios from'axios';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Stocks=function Stocks(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),chartData=_useState2[0],setChartData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),summary=_useState4[0],setSummary=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),flag=_useState6[0],setFlag=_useState6[1];var _useLocation=useLocation(),state=_useLocation.state;var apiKey=process.env.REACT_APP_API_KEY;useEffect(function(){var fetchTrend=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var options,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;options={method:'GET',url:\"https://yfapi.net/v8/finance/chart/\".concat(state,\"?range=1mo&interval=1d\"),headers:{'x-api-key':apiKey}};_context.next=4;return axios.request(options);case 4:response=_context.sent;setChartData({labels:response.data.chart.result[0].timestamp.map(function(elem){return new Date(elem*1000).toLocaleDateString(\"en-US\");}),datasets:[{label:'Changes Reflected Daily',data:response.data.chart.result[0].indicators.quote[0].close,backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)','rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)','rgba(255, 159, 64, 0.2)'],borderWidth:5}]});setSummary(response.data.chart.result[0].meta);setFlag(response.data.chart.result);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchTrend(){return _ref.apply(this,arguments);};}();fetchTrend();},[apiKey,state]);return/*#__PURE__*/_jsx(_Fragment,{children:!flag?/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card rounded shadow-lg m-2 chart-true\",children:/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",style:{padding:\"9px\"},children:\"Loading Data...\"})})})})}):/*#__PURE__*/_jsxs(\"div\",{className:\"stock-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stock-column-data\",children:summary?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsxs(\"span\",{style:{color:\"black\"},children:[/*#__PURE__*/_jsxs(\"span\",{className:\"summary-span\",children:[summary.exchangeName,\" (\",summary.symbol,\")\"]}),\" $\",summary.regularMarketPrice]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stock-headings\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-span\",children:\"Exchange Name:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"black\"},children:[\" \",\" \",\" \",summary.exchangeName]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-span\",children:\"Instrument Type:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"black\"},children:[\" \",\" \",summary.instrumentType]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-span\",children:\"Previous Close Price:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"black\"},children:[\" \",\" $\",summary.chartPreviousClose]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h4\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"summary-span\",children:\"Current Price:\"}),/*#__PURE__*/_jsxs(\"span\",{style:{color:\"black\"},children:[\" \",\" $\",summary.regularMarketPrice]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]}):/*#__PURE__*/_jsx(\"div\",{children:\"Loading....\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"stock-column-chart\",children:/*#__PURE__*/_jsx(LineChart,{chartData:chartData})})]})});};export default Stocks;","map":{"version":3,"names":["React","useState","useEffect","useLocation","LineChart","axios","Stocks","chartData","setChartData","summary","setSummary","flag","setFlag","state","apiKey","process","env","REACT_APP_API_KEY","fetchTrend","options","method","url","headers","request","response","labels","data","chart","result","timestamp","map","elem","Date","toLocaleDateString","datasets","label","indicators","quote","close","backgroundColor","borderWidth","meta","console","error","padding","color","exchangeName","symbol","regularMarketPrice","instrumentType","chartPreviousClose"],"sources":["/Users/macos/Documents/stock-app/src/pages/Stocks.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport LineChart from '../components/Chart';\nimport axios from 'axios';\n\nconst Stocks = () => {\n    const [chartData, setChartData] = useState({});\n    const [summary, setSummary] = useState(null);\n    const [flag, setFlag] = useState(null);\n    const { state } = useLocation();\n    const apiKey = process.env.REACT_APP_API_KEY;\n\n    useEffect(() => {\n        const fetchTrend = async () => {\n          try {\n            const options = {\n                method: 'GET',\n                url: `https://yfapi.net/v8/finance/chart/${state}?range=1mo&interval=1d`,\n                headers: {\n                    'x-api-key': apiKey\n                }\n            };\n\n            const response = await axios.request(options);\n            setChartData({\n                labels: response.data.chart.result[0].timestamp.map((elem) => new Date(elem * 1000).toLocaleDateString(\"en-US\")),\n                datasets: [{\n                    label: 'Changes Reflected Daily',\n                    data: response.data.chart.result[0].indicators.quote[0].close,\n                    backgroundColor: [\n                        'rgba(255, 99, 132, 0.2)',\n                        'rgba(54, 162, 235, 0.2)',\n                        'rgba(255, 206, 86, 0.2)',\n                        'rgba(75, 192, 192, 0.2)',\n                        'rgba(153, 102, 255, 0.2)',\n                        'rgba(255, 159, 64, 0.2)'\n                    ],\n                    borderWidth: 5\n                }],\n            });\n            setSummary(response.data.chart.result[0].meta);\n            setFlag(response.data.chart.result);\n          } catch (error) {\n            console.error(error);\n          }\n        }\n    \n        fetchTrend();\n    }, [apiKey, state]);\n\n    return (\n        <>\n        {\n            !flag ? (\n                <div className=\"container\">\n                    <div className=\"row\">\n                        <div className=\"col\">\n                            <div className=\"card rounded shadow-lg m-2 chart-true\">\n                                <p className=\"error-message\" style={{ padding: \"9px\" }}>Loading Data...</p>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ) : (\n                <div className=\"stock-row\">\n                    <div className=\"stock-column-data\">\n                        {\n                            summary ? (\n                                <>\n                                    <h2><span style={{ color: \"black\" }}><span className='summary-span'>{ summary.exchangeName } ({summary.symbol})</span> ${summary.regularMarketPrice}</span></h2>\n                                    <div className='stock-headings'>\n                                        <h4><span className='summary-span'>Exchange Name:</span><span style={{ color: \"black\"}}> {\" \"} {summary.exchangeName}</span></h4>\n                                        <hr /><br />\n                                        <h4><span className='summary-span'>Instrument Type:</span><span style={{ color: \"black\"}}>{\" \"} {summary.instrumentType}</span></h4>\n                                        <hr /><br />\n                                        <h4><span className='summary-span'>Previous Close Price:</span><span style={{ color: \"black\"}}>{\" \"} ${summary.chartPreviousClose}</span></h4>\n                                        <hr /><br />\n                                        <h4><span className='summary-span'>Current Price:</span><span style={{ color: \"black\"}}>{\" \"} ${summary.regularMarketPrice}</span></h4>        \n                                        <hr /><br />\n                                    </div>\n                                </>\n                            ) : (\n                                <div>Loading....</div>\n                            )\n                        }\n                    </div>\n                    <div className=\"stock-column-chart\">\n                        <LineChart chartData={chartData} />\n                    </div> \n                </div>\n            )\n        }\n        </>\n    )\n}\n\nexport default Stocks;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}