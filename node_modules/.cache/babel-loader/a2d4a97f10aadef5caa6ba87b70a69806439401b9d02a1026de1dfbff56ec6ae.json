{"ast":null,"code":"import _regeneratorRuntime from\"/Users/macos/Documents/stock-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/macos/Documents/stock-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/macos/Documents/stock-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Card from'../components/SingleCard';import axios from'axios';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cards=function Cards(_ref){var searchString=_ref.searchString;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),trend=_useState2[0],setTrend=_useState2[1];var findValue=function findValue(elem){return elem.toLowerCase().includes(searchString.toLowerCase());};var apiKey=process.env.REACT_APP_API_KEY;useEffect(function(){var fetchTrend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var options,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;options={method:'GET',url:'https://yfapi.net/v1/finance/trending/US',headers:{'x-api-key':apiKey}};_context.next=4;return axios.request(options);case 4:response=_context.sent;setTrend(response.data.finance.result[0]);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function fetchTrend(){return _ref2.apply(this,arguments);};}();fetchTrend();},[apiKey]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"cards_title\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Trending Indexes\"})}),trend?/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row text-center wrapper\",children:trend.quotes.slice(0,10).map(function(stocks){if(findValue(stocks.symbol)){return/*#__PURE__*/_jsx(Card,{symbol:stocks.symbol},stocks.symbol);}else{return null;}})})})}):/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"})]});};export default Cards;","map":{"version":3,"names":["React","useState","useEffect","Card","axios","Cards","searchString","trend","setTrend","findValue","elem","toLowerCase","includes","apiKey","process","env","REACT_APP_API_KEY","fetchTrend","options","method","url","headers","request","response","data","finance","result","console","error","quotes","slice","map","stocks","symbol"],"sources":["/Users/macos/Documents/stock-app/src/components/Cards.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Card from '../components/SingleCard';\nimport axios from 'axios';\n\nconst Cards = ({ searchString }) => {\n    const [trend, setTrend] = useState(null);\n    const findValue = (elem) => elem.toLowerCase().includes(searchString.toLowerCase());\n    const apiKey = process.env.REACT_APP_API_KEY;\n\n    useEffect(() => {\n        const fetchTrend = async () => {\n          try {\n            const options = {\n                method: 'GET',\n                url: 'https://yfapi.net/v1/finance/trending/US',\n                headers: {\n                    'x-api-key': apiKey\n                }\n            };\n\n            const response = await axios.request(options);\n            setTrend(response.data.finance.result[0]);\n          } catch (error) {\n            console.error(error);\n          }\n        }\n    \n        fetchTrend();\n      }, [apiKey]);\n\n    return (\n        <>\n            <div className=\"cards_title\"><h2>Trending Indexes</h2></div>\n            {\n                trend ? (\n                    <div className=\"container-fluid\">\n                        <div className=\"container-fluid\">\n                            <div className=\"row text-center wrapper\">\n                                {\n                                    trend.quotes.slice(0, 10).map((stocks) => {\n                                        if (findValue(stocks.symbol)) {\n                                            return (\n                                                <Card\n                                                    key={stocks.symbol}\n                                                    symbol={stocks.symbol}\n                                                />\n                                            )\n                                        }\n                                        else {\n                                            return null\n                                        }\n                                    })\n                                }\n                            </div>\n                        </div>       \n                    </div>\n                ) : (\n                    <div>Loading...</div>\n                )\n            }            \n        </>\n    )\n}\n\nexport default Cards;"],"mappings":"kXAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,0BAA0B,CAC3C,MAAOC,MAAK,KAAM,OAAO,CAAC,6IAE1B,GAAMC,MAAK,CAAG,QAARA,MAAK,MAAyB,IAAnBC,aAAY,MAAZA,YAAY,CACzB,cAA0BL,QAAQ,CAAC,IAAI,CAAC,wCAAjCM,KAAK,eAAEC,QAAQ,eACtB,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,IAAI,QAAKA,KAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACN,YAAY,CAACK,WAAW,EAAE,CAAC,GACnF,GAAME,OAAM,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,CAE5Cd,SAAS,CAAC,UAAM,CACZ,GAAMe,WAAU,6FAAG,yKAETC,OAAO,CAAG,CACZC,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,0CAA0C,CAC/CC,OAAO,CAAE,CACL,WAAW,CAAER,MACjB,CACJ,CAAC,uBAEsBT,MAAK,CAACkB,OAAO,CAACJ,OAAO,CAAC,QAAvCK,QAAQ,eACdf,QAAQ,CAACe,QAAQ,CAACC,IAAI,CAACC,OAAO,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,+EAE1CC,OAAO,CAACC,KAAK,aAAO,CAAC,mEAExB,kBAfKX,WAAU,2CAef,CAEDA,UAAU,EAAE,CACd,CAAC,CAAE,CAACJ,MAAM,CAAC,CAAC,CAEd,mBACI,wCACI,YAAK,SAAS,CAAC,aAAa,uBAAC,oBAAI,kBAAgB,EAAK,EAAM,CAExDN,KAAK,cACD,YAAK,SAAS,CAAC,iBAAiB,uBAC5B,YAAK,SAAS,CAAC,iBAAiB,uBAC5B,YAAK,SAAS,CAAC,yBAAyB,UAEhCA,KAAK,CAACsB,MAAM,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,CAACC,GAAG,CAAC,SAACC,MAAM,CAAK,CACtC,GAAIvB,SAAS,CAACuB,MAAM,CAACC,MAAM,CAAC,CAAE,CAC1B,mBACI,KAAC,IAAI,EAED,MAAM,CAAED,MAAM,CAACC,MAAO,EADjBD,MAAM,CAACC,MAAM,CAEpB,CAEV,CAAC,IACI,CACD,MAAO,KAAI,CACf,CACJ,CAAC,CAAC,EAEJ,EACJ,EACJ,cAEN,qBAAK,YAAU,EAClB,GAEN,CAEX,CAAC,CAED,cAAe5B,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}